<!DOCTYPE html>
<html>

<head>
  <title>Medicine Chatbot</title>
  <style>
    body {
      font-family: Arial;
      padding: 30px;
    }

    input,
    button {
      padding: 10px;
      margin: 5px;
    }

    .chatbox {
      border: 1px solid #ccc;
      padding: 10px;
      max-width: 500px;
      height: 400px;
      overflow-y: auto;
    }

    .user {
      color: blue;
    }

    .bot {
      color: green;
    }
  </style>
</head>

<body>
  <h1>Medicine Information Chatbot</h1>
  <div class="chatbox" id="chatbox"></div>
  <input type="text" id="drug_name" placeholder="Enter medicine name">
  <button onclick="send()">Search</button>

  <script>
    function send() {
      const drug = document.getElementById("drug_name").value;
      if (!drug) return;

      const chatbox = document.getElementById("chatbox");
      chatbox.innerHTML += `<p class="user">You: ${drug}</p>`;

      fetch('/get_medicine', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `drug_name=${drug}`
      })
        .then(response => response.json())
        .then(data => {
          if (data.error) {
            chatbox.innerHTML += `<p class="bot">Bot: ${data.error}</p>`;
          } else {
            chatbox.innerHTML += `<p class="bot">
                        <strong>Uses:</strong> ${data.Uses}<br>
                        <strong>Dosage:</strong> ${data.Dosage}<br>
                        <strong>Side Effects:</strong> ${data.Side_Effects}
                    </p>`;
          }
          chatbox.scrollTop = chatbox.scrollHeight;
        });

      document.getElementById("drug_name").value = '';
    }
  </script>
</body>

</html>